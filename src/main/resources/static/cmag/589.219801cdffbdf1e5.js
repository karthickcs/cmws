"use strict";(self.webpackChunkcmag=self.webpackChunkcmag||[]).push([[589],{3589:(C,l,d)=>{d.r(l),d.d(l,{ReportsModule:()=>D});var u=d(6895),p=d(646),t=d(1571),T=d(1137),g=d(2126),h=d(1679),a=d(433),f=d(4631);function Z(i,o){if(1&i&&(t.TgZ(0,"option",18),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.Q6J("value",e.taskid),t.xp6(1),t.hij(" Task ---\x3e ",e.taskid," ")}}function c(i,o){if(1&i&&(t.TgZ(0,"option",18),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.Q6J("value",e.runid),t.xp6(1),t.hij(" Run Id ---\x3e ",e.runid," ")}}function m(i,o){if(1&i&&(t.TgZ(0,"option",18),t._uU(1),t.qZA()),2&i){const e=o.$implicit;t.Q6J("value",e.maintranid),t.xp6(1),t.hij(" TranId ---\x3e ",e.maintranid," ")}}function A(i,o){if(1&i&&(t.TgZ(0,"tr",11)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",19),t._uU(6),t.qZA(),t.TgZ(7,"td",20),t._uU(8),t.qZA()()),2&i){const e=o.$implicit,n=o.index;t.xp6(2),t.Oqu(n+1),t.xp6(2),t.Oqu(e.field),t.xp6(2),t.Oqu(e.oldval),t.xp6(2),t.Oqu(e.newval)}}function O(i,o){if(1&i&&(t.TgZ(0,"tr",11)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",20),t._uU(6),t.qZA()()),2&i){const e=o.$implicit,n=o.index;t.xp6(2),t.Oqu(n+1),t.xp6(2),t.Oqu(e.field),t.xp6(2),t.Oqu(e.oldval)}}function _(i,o){if(1&i&&(t.TgZ(0,"tr",11)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",19),t._uU(6),t.qZA()()),2&i){const e=o.$implicit,n=o.index;t.xp6(2),t.Oqu(n+1),t.xp6(2),t.Oqu(e.field),t.xp6(2),t.Oqu(e.oldval)}}const q=[{path:"",component:(()=>{class i{constructor(e,n,r){this.taskControllerService=e,this.diffTableControllerService=n,this.dpListenControllerService=r,this.changeDTO={},this.changeDTOArray=[],this.addDTO={},this.addDTOArray=[],this.removeDTO={},this.removeDTOArray=[],this.diffTableDTO={},this.jsondiff={},this.diffTableDTOArray=[],this.taskMainDTO={},this.dplistenentry={},this.taskmainArray=[],this.taskid=0,this.dplistenArray=[],this.runid=0,this.runidselect=0,this.addfields={},this.removefields={}}ngOnInit(){this.loaddata()}loaddata(){this.taskControllerService.getTasknainUsingGET().subscribe(e=>{this.taskmainArray=e},e=>{console.log(e)})}loadruniddata(){this.dpListenControllerService.getRunIdsUsingGET(this.taskid).subscribe(e=>{this.dplistenArray=e},e=>{console.log(e)})}loadrunid(){this.dplistenentry=this.dplistenArray.find(e=>e.runid==this.runidselect),this.loaddifftable()}loaddifftable(){this.diffTableDTO.taskid=""+this.dplistenentry.taskid,this.diffTableDTO.runid=this.dplistenentry.runid,this.diffTableControllerService.getDiffDataUsingPOST(this.diffTableDTO).subscribe(e=>{this.diffTableDTOArray=e},e=>{console.log(e)})}loadtramdata(){this.diffTableDTO=this.diffTableDTOArray.find(s=>s.maintranid==this.tranid);let e="";for(var n of(e=this.diffTableDTO.difference,e=e.split("(").join("["),e=e.split(")").join("]"),this.jsondiff=JSON.parse(e),this.diffTableDTO.difference=e,this.changeDTOArray=[],this.jsondiff)){if(console.log(n),console.log(n[0]),"add"==n[0])for(var r of n[2])this.addDTO={},this.addDTO.field=r[0],this.addDTO.oldval=r[1],this.addDTOArray.push(this.addDTO);if("remove"==n[0])for(var r of n[2])this.removeDTO={},this.removeDTO.field=r[0],this.removeDTO.oldval=r[1],this.removeDTOArray.push(this.removeDTO);"change"==n[0]&&(this.changeDTO={},this.changeDTO.field=n[1],this.changeDTO.oldval=n[2][0],this.changeDTO.newval=n[2][1],this.changeDTOArray.push(this.changeDTO))}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(T.Y),t.Y36(g.Z),t.Y36(h.u))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-reports"]],decls:123,vars:20,consts:[[1,"row"],[1,"col-md-6"],[1,"form-group"],["for","exampleFormControlSelect1"],["name","taskid","id","taskid",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","exampleFormControlSelect2"],["name","runidselect","id","runidselect",1,"form-control",3,"ngModel","ngModelChange"],[1,"table-responsive"],[1,"table","table-bordered","table-sm"],[1,"table-primary"],[1,"table-light"],["name","tranid","id","tranid",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-sm-12"],["cardTitle","Comparision",3,"options"],[1,"col-md-12"],["action","javascript:"],["class","table-light",4,"ngFor","ngForOf"],[3,"value"],[1,"table-success"],[1,"table-danger"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),t._uU(4,"Task ID"),t.qZA(),t.TgZ(5,"select",4),t.NdJ("ngModelChange",function(s){return n.taskid=s})("ngModelChange",function(){return n.loadruniddata()}),t.YNc(6,Z,2,2,"option",5),t.qZA()()(),t.TgZ(7,"div",1)(8,"div",2)(9,"label",6),t._uU(10,"Run ID"),t.qZA(),t.TgZ(11,"select",7),t.NdJ("ngModelChange",function(s){return n.runidselect=s})("ngModelChange",function(){return n.loadrunid()}),t.YNc(12,c,2,2,"option",5),t.qZA()()()(),t._UZ(13,"hr"),t.TgZ(14,"div",8)(15,"table",9)(16,"thead")(17,"tr",10)(18,"th"),t._uU(19,"TaskName"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"TaskId"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"Status"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"RunId"),t.qZA(),t.TgZ(26,"th"),t._uU(27,"RowCount"),t.qZA(),t.TgZ(28,"th"),t._uU(29,"Filelocation1"),t.qZA(),t.TgZ(30,"th"),t._uU(31,"Filelocation2"),t.qZA()()(),t.TgZ(32,"tbody")(33,"tr",11)(34,"td"),t._uU(35),t.qZA(),t.TgZ(36,"td"),t._uU(37),t.qZA(),t.TgZ(38,"td"),t._uU(39),t.qZA(),t.TgZ(40,"td"),t._uU(41),t.qZA(),t.TgZ(42,"td"),t._uU(43),t.qZA(),t.TgZ(44,"td"),t._uU(45),t.qZA(),t.TgZ(46,"td"),t._uU(47),t.qZA()()()()(),t.TgZ(48,"div",1)(49,"div",2)(50,"label",3),t._uU(51,"Transaction ID"),t.qZA(),t.TgZ(52,"select",12),t.NdJ("ngModelChange",function(s){return n.tranid=s})("ngModelChange",function(){return n.loadtramdata()}),t.YNc(53,m,2,2,"option",5),t.qZA()()(),t._UZ(54,"br"),t.TgZ(55,"div",0)(56,"div",13)(57,"app-card",14)(58,"div",0)(59,"div",15)(60,"form",16)(61,"div",8)(62,"table",9)(63,"thead")(64,"tr",10)(65,"th"),t._uU(66,"Oldtranid"),t.qZA(),t.TgZ(67,"th"),t._uU(68,"Newtranid"),t.qZA(),t.TgZ(69,"th"),t._uU(70,"DifferenceCount"),t.qZA()()(),t.TgZ(71,"tbody")(72,"tr",11)(73,"td"),t._uU(74),t.qZA(),t.TgZ(75,"td"),t._uU(76),t.qZA(),t.TgZ(77,"td"),t._uU(78),t.qZA()()()()(),t.TgZ(79,"h6"),t._uU(80,"Difference"),t.qZA(),t.TgZ(81,"div",8)(82,"table",9)(83,"thead")(84,"tr",10)(85,"th"),t._uU(86,"#"),t.qZA(),t.TgZ(87,"th"),t._uU(88,"Field"),t.qZA(),t.TgZ(89,"th"),t._uU(90,"Old Value"),t.qZA(),t.TgZ(91,"th"),t._uU(92,"New Value"),t.qZA()()(),t.TgZ(93,"tbody"),t.YNc(94,A,9,4,"tr",17),t.qZA()()(),t.TgZ(95,"h6"),t._uU(96,"Remove"),t.qZA(),t.TgZ(97,"div",8)(98,"table",9)(99,"thead")(100,"tr",10)(101,"th"),t._uU(102,"#"),t.qZA(),t.TgZ(103,"th"),t._uU(104,"Field"),t.qZA(),t.TgZ(105,"th"),t._uU(106," Value"),t.qZA()()(),t.TgZ(107,"tbody"),t.YNc(108,O,7,3,"tr",17),t.qZA()()(),t.TgZ(109,"h6"),t._uU(110,"ADD"),t.qZA(),t.TgZ(111,"div",8)(112,"table",9)(113,"thead")(114,"tr",10)(115,"th"),t._uU(116,"#"),t.qZA(),t.TgZ(117,"th"),t._uU(118,"Field"),t.qZA(),t.TgZ(119,"th"),t._uU(120," Value"),t.qZA()()(),t.TgZ(121,"tbody"),t.YNc(122,_,7,3,"tr",17),t.qZA()()()()()()()()()),2&e&&(t.xp6(5),t.Q6J("ngModel",n.taskid),t.xp6(1),t.Q6J("ngForOf",n.taskmainArray),t.xp6(5),t.Q6J("ngModel",n.runidselect),t.xp6(1),t.Q6J("ngForOf",n.dplistenArray),t.xp6(23),t.Oqu(n.dplistenentry.taskname),t.xp6(2),t.Oqu(n.dplistenentry.taskid),t.xp6(2),t.Oqu(n.dplistenentry.status),t.xp6(2),t.Oqu(n.dplistenentry.runid),t.xp6(2),t.Oqu(n.dplistenentry.rowcount),t.xp6(2),t.Oqu(n.dplistenentry.filelocation),t.xp6(2),t.Oqu(n.dplistenentry.filelocationt2),t.xp6(5),t.Q6J("ngModel",n.tranid),t.xp6(1),t.Q6J("ngForOf",n.diffTableDTOArray),t.xp6(4),t.Q6J("options",!1),t.xp6(17),t.Oqu(n.diffTableDTO.maintranid),t.xp6(2),t.Oqu(n.diffTableDTO.newtranid),t.xp6(2),t.Oqu(n.diffTableDTO.countval),t.xp6(16),t.Q6J("ngForOf",n.changeDTOArray),t.xp6(14),t.Q6J("ngForOf",n.removeDTOArray),t.xp6(14),t.Q6J("ngForOf",n.addDTOArray))},dependencies:[u.sg,a._Y,a.YN,a.Kr,a.EJ,a.JJ,a.JL,a.On,a.F,f.A]}),i})()}];let v=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[p.Bz.forChild(q),p.Bz]}),i})();var U=d(819);let D=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[u.ez,v,U.m]}),i})()}}]);